<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Register Form Start</title>


  <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-app.js"></script>


  <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-analytics.js"></script>



  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  

</head>

<body>

  <form class="signup-form" action="/register" method="post">

    <!-- form header -->
    <div class="form-header">
      <h1>Create Account</h1>
    </div>

    <!-- form body -->
    <div class="form-body">

      <!-- Firstname and Lastname -->
      <div class="horizontal-group">
        <div class="form-group left">
          <label for="firstname" class="label-title">First name *</label>
          <input type="text" id="firstname" class="form-input" placeholder="enter your first name"
            required="required" />
        </div>
        <div class="form-group right">
          <label for="lastname" class="label-title">Surname *</label>
          <input type="text" id="lastname" class="form-input" placeholder="enter your surname name"
            required="required" />
        </div>
      </div>
      <!-- Email -->
      <div class="form-group">
        <label for="email" class="label-title">Email*</label>
        <input type="email" id="email" class="form-input" placeholder="enter your email" required="required">
      </div>

      <!-- Passwrod and confirm password -->
      <div class="horizontal-group">

        <div class="form-group left">
          <label for="password" class="label-title">Password *</label>
          <input type="password" id="password" class="form-input" placeholder="enter your password" required="required">
        </div>

        <div class="form-group right">
          <label for="confirm-password" class="label-title">Confirm Password *</label>
          <input type="password" class="form-input" id="confirm-password" placeholder="enter your password again"
            required="required">
        </div>

      </div>
      <!-- Gender and Age -->
      <div class="horizontal-group">

        <div class="form-group left">
          <label class="label-title">Gender:</label>
          <div class="input-group">
            <label for="male">
              <input type="radio" name="gender" value="male" id="male"> Male</label>
            <label for="female">
              <input type="radio" name="gender" value="female" id="female"> Female</label>
          </div>
        </div>


        <div class="form-group right">
          <label class="label-title">Birth date</label>
          <div>
            <input type="date" name="birthday" id="birthday" class="form-input">
          </div>
        </div>

      </div>

      <!-- Phone Number-->

      <div>
        <label class="label-title">Phone No</label>
        <div>
          <input type="tel" class="form-input" maxlength="10">
        </div>
      </div>

    </div>
    <!--   Gps Location  -->
    <div>
      <button onclick="getLocation()" style="font-size: 25px;margin-left: 40px;" class="btn">use my current location <i
          class="fa fa-map-marker"></i></button>

      <p id="demo"></p>

      <script>
        var x = document.getElementById("demo");

        function getLocation() {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
          } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
          }
        }

        function showPosition(position) {
          var latlong = position.coords.latitude + "," + position.coords.longitude;
        }
      </script>
    </div>

    <!-- form footer -->
    <div class="form-footer">
      <span>* required</span>
      <button class="btn" onclick="funSub()"><a href="questionarie.html">Create</a></button>
      <a href="" class="label-title" style="color:aquamarine; font-size: 20px;">Already have account </a>
    </div>

  </form>
  <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-database.js"></script>
  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyCEgcDa00GFb24s8G2ZpBQfAXylpP9c_Uo",
      authDomain: "covid-19-4b5e8.firebaseapp.com",
      databaseURL: "https://covid-19-4b5e8.firebaseio.com",
      projectId: "covid-19-4b5e8",
      storageBucket: "covid-19-4b5e8.appspot.com",
      messagingSenderId: "613143221483",
      appId: "1:613143221483:web:deaa27f1e3f6f1b2b3daae",
      measurementId: "G-4Y3K76K9K9"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();


    function funSub() {
     

  var firstname= document.getElementById("firstname").value,
  var lastname=document.getElementById("lastname").value,
  var email = document.getElementById("email").value,
  var password= document.getElementById("password").value,
  var repeat_password= document.getElementById("confirm-password").value,
  firebase.auth().createUserWithEmailAndPassword(email,password).then(function(){
    alert('user registered sucessfully');
    var id=firebase.auth().currrentUser.uid;
    firebase.database().ref('users/'+id).set({
      name:firstname,
      email: email,
    });
  }).catch(function(error){

    var errorcode= error.code;
    var errormsg = error.message;

  });
  window.location.replace("questionarie.html");
  

}


  </script>
 
</body>



</html>

